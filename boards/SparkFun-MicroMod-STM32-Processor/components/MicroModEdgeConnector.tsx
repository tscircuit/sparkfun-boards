import type { ChipProps } from "@tscircuit/props"

const pinLabels = {
  pin1: ["GND"],
  pin2: ["3V3"],
  pin3: ["USB_D+"],
  pin4: ["3V3_EN"],
  pin5: ["USB_D-"],
  pin6: ["RESET_N"],
  pin7: ["GND"],
  pin8: ["HOST_ID"],
  pin9: ["USB_VIN"],
  pin10: ["D0"],
  pin11: ["BOOT_CTRL"],
  pin12: ["I2C_SDA"],
  pin13: ["UART_RTS1"],
  pin14: ["I2C_SCL"],
  pin15: ["UART_CTS1"],
  pin16: ["I2C_INT"],
  pin17: ["UART_TX1"],
  pin18: ["D1_CAM_TRIG"],
  pin19: ["UART_RX1"],
  pin20: ["UART_RX2"],
  pin21: ["SWCLK"],
  pin22: ["UART_TX2"],
  pin23: ["SWDIO"],
  pin24: ["SWO"],
  pin25: ["KEY"],
  pin26: ["KEY"],
  pin27: ["KEY"],
  pin28: ["KEY"],
  pin29: ["KEY"],
  pin30: ["KEY"],
  pin31: ["KEY"],
  pin32: ["PWM0"],
  pin33: ["GND"],
  pin34: ["A0"],
  pin35: ["USBHOST_D+"],
  pin36: ["GND"],
  pin37: ["USBHOST_D-"],
  pin38: ["A1"],
  pin39: ["GND"],
  pin40: ["BUS0"],
  pin41: ["CAN_RX"],
  pin42: ["BUS1"],
  pin43: ["CAN_TX"],
  pin44: ["BUS2"],
  pin45: ["GND"],
  pin46: ["BUS3"],
  pin47: ["PWM1"],
  pin48: ["BUS4"],
  pin49: ["BATT_VIN"],
  pin50: ["AUD_BCLK"],
  pin51: ["I2C_SDA1"],
  pin52: ["AUD_LRCLK"],
  pin53: ["I2C_SCL1"],
  pin54: ["AUD_IN"],
  pin55: ["SPI_CS"],
  pin56: ["AUD_OUT"],
  pin57: ["SPI_SCK"],
  pin58: ["AUD_MCLK"],
  pin59: ["SPI_MOSI"],
  pin60: ["SDIO_CLK"],
  pin61: ["SPI_MISO"],
  pin62: ["SDIO_CMD"],
  pin63: ["HOST_VBUS"],
  pin64: ["SDIO_D0"],
  pin65: ["CAM_HSYNC"],
  pin66: ["SDIO_D1"],
  pin67: ["BUS8"],
  pin68: ["SDIO_D2"],
  pin69: ["BUS7"],
  pin70: ["SDIO_D3"],
  pin71: ["BUS6"],
  pin72: ["RTC_3V_BATT"],
  pin73: ["BUS5"],
  pin74: ["3V3"],
  pin75: ["GND"],
} as const

const padDefs = [
  {
    pin: "pin1",
    x: 9.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin2",
    x: 9.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin3",
    x: 8.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin4",
    x: 8.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin5",
    x: 8.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin6",
    x: 8.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin7",
    x: 7.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin8",
    x: 7.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin9",
    x: 7.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin10",
    x: 7.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin11",
    x: 6.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin12",
    x: 6.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin13",
    x: 6.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin14",
    x: 6.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin15",
    x: 5.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin16",
    x: 5.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin17",
    x: 5.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin18",
    x: 5.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin19",
    x: 4.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin20",
    x: 4.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin21",
    x: 4.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin22",
    x: 4.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin23",
    x: 3.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin32",
    x: 1.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin33",
    x: 1.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin34",
    x: 1.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin35",
    x: 0.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin36",
    x: 0.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin37",
    x: 0.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin38",
    x: 0.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin39",
    x: -0.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin40",
    x: -0.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin41",
    x: -0.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin42",
    x: -1.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin43",
    x: -1.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin44",
    x: -1.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin45",
    x: -1.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin46",
    x: -2.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin47",
    x: -2.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin48",
    x: -2.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin49",
    x: -2.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin50",
    x: -3.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin51",
    x: -3.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin52",
    x: -3.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin53",
    x: -3.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin54",
    x: -4.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin55",
    x: -4.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin56",
    x: -4.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin57",
    x: -4.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin58",
    x: -5.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin59",
    x: -5.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin60",
    x: -5.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin61",
    x: -5.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin62",
    x: -6.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin63",
    x: -6.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin64",
    x: -6.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin65",
    x: -6.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin66",
    x: -7.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin67",
    x: -7.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin68",
    x: -7.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin69",
    x: -7.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin70",
    x: -8.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin71",
    x: -8.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin72",
    x: -8.5,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin73",
    x: -8.75,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
  {
    pin: "pin74",
    x: -9.0,
    y: 1.525,
    width: 0.35,
    height: 1.95,
    layer: "bottom" as const,
  },
  {
    pin: "pin75",
    x: -9.25,
    y: 1.275,
    width: 0.35,
    height: 1.45,
    layer: "top" as const,
  },
] as const

const topPins = padDefs
  .filter((pad) => pad.layer === "top")
  .map((pad) => pad.pin)
const bottomPins = padDefs
  .filter((pad) => pad.layer === "bottom")
  .map((pad) => pad.pin)

export const MicroModEdgeConnector = (props: ChipProps<typeof pinLabels>) => {
  return (
    <chip
      pinLabels={pinLabels}
      schPinArrangement={{
        leftSide: { pins: topPins, direction: "top-to-bottom" },
        rightSide: { pins: bottomPins, direction: "top-to-bottom" },
      }}
      schPinSpacing="0.6mm"
      schWidth="6mm"
      schHeight="60mm"
      footprint={
        <footprint>
          {padDefs.map((pad) => (
            <smtpad
              key={pad.pin}
              portHints={[pad.pin]}
              pcbX={`${pad.x}mm`}
              pcbY={`${pad.y}mm`}
              width={`${pad.width}mm`}
              height={`${pad.height}mm`}
              layer={pad.layer}
              shape="rect"
            />
          ))}
        </footprint>
      }
      {...props}
    />
  )
}
